{"ast":null,"code":"import React, { Fragment, useCallback, useMemo, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { Box } from '../Box';\nimport { Drop } from '../Drop';\nimport { Grid } from '../Grid';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { focusStyle, unfocusStyle } from '../../utils';\nimport { halfPad } from './utils';\nimport { Swatch } from './Swatch';\nvar DetailControl = styled(Box).withConfig({\n  displayName: \"Detail__DetailControl\",\n  componentId: \"sc-huiwg9-0\"\n})([\"&:focus{\", \"}&:focus:not(:focus-visible){\", \"}\"], focusStyle(), unfocusStyle());\n\nvar Detail = function Detail(_ref) {\n  var activeProperty = _ref.activeProperty,\n      axis = _ref.axis,\n      data = _ref.data,\n      pad = _ref.pad,\n      series = _ref.series,\n      seriesStyles = _ref.seriesStyles,\n      renderValue = _ref.renderValue,\n      thickness = _ref.thickness;\n\n  var _useState = useState(),\n      detailIndex = _useState[0],\n      setDetailIndex = _useState[1];\n\n  var activeIndex = useRef();\n  var detailRefs = useMemo(function () {\n    return [];\n  }, []);\n  var onMouseLeave = useCallback(function (event) {\n    // Only remove detail if the mouse isn't over the active index.\n    // This helps distinguish leaving the drop on the edge where it is\n    // anchored.\n    var rect = activeIndex.current.getBoundingClientRect();\n\n    if (event.pageX < rect.left || event.pageX > rect.right || event.pageY < rect.top || event.pageY > rect.bottom) {\n      activeIndex.current = undefined;\n      setDetailIndex(undefined);\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Keyboard, {\n    onLeft: function onLeft() {\n      if (detailIndex === undefined) setDetailIndex(data.length - 1);else if (detailIndex > 0) setDetailIndex(detailIndex - 1);\n    },\n    onRight: function onRight() {\n      if (detailIndex === undefined) setDetailIndex(0);else if (detailIndex < data.length - 1) setDetailIndex(detailIndex + 1);\n    }\n  }, /*#__PURE__*/React.createElement(DetailControl, {\n    key: \"band\",\n    tabIndex: 0,\n    direction: \"row\",\n    fill: true,\n    pad: // ensure the hit targets and center lines align with\n    // the data/guide lines\n    (pad == null ? void 0 : pad.horizontal) && halfPad[pad.horizontal] && {\n      horizontal: halfPad[pad.horizontal]\n    } || pad,\n    justify: \"between\",\n    responsive: false,\n    onFocus: function onFocus() {},\n    onBlur: function onBlur() {\n      return setDetailIndex(undefined);\n    }\n  }, data.map(function (_, i) {\n    return /*#__PURE__*/React.createElement(Box // eslint-disable-next-line react/no-array-index-key\n    , {\n      key: i,\n      align: \"center\",\n      responsive: false,\n      width: thickness,\n      onMouseOver: function onMouseOver(event) {\n        activeIndex.current = event.currentTarget;\n        setDetailIndex(i);\n      },\n      onMouseLeave: onMouseLeave,\n      onFocus: function onFocus() {},\n      onBlur: function onBlur() {}\n    }, /*#__PURE__*/React.createElement(Box, {\n      ref: function ref(c) {\n        detailRefs[i] = c;\n      },\n      fill: \"vertical\",\n      border: detailIndex === i ? true : undefined\n    }));\n  }))), detailIndex !== undefined && detailRefs[detailIndex] && /*#__PURE__*/React.createElement(Drop, {\n    key: \"drop\",\n    target: detailRefs[detailIndex],\n    align: detailIndex > data.length / 2 ? {\n      right: 'left'\n    } : {\n      left: 'right'\n    },\n    plain: true,\n    onMouseLeave: onMouseLeave\n  }, /*#__PURE__*/React.createElement(Box, {\n    pad: \"small\",\n    background: {\n      color: 'background-back'\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    columns: ['auto', 'auto', 'auto'],\n    gap: \"xsmall\",\n    align: \"center\"\n  }, series.filter(function (_ref2) {\n    var property = _ref2.property;\n    return !activeProperty || activeProperty === property || axis && axis.x && axis.x.property === property;\n  }).map(function (serie) {\n    var propertyStyle = seriesStyles[serie.property];\n    return /*#__PURE__*/React.createElement(Fragment, {\n      key: serie.property\n    }, propertyStyle ? /*#__PURE__*/React.createElement(Swatch, propertyStyle) : /*#__PURE__*/React.createElement(\"span\", null), /*#__PURE__*/React.createElement(Text, {\n      size: \"small\"\n    }, serie.label || serie.property), /*#__PURE__*/React.createElement(Text, {\n      size: \"small\",\n      weight: \"bold\"\n    }, renderValue(serie, detailIndex)));\n  })))));\n};\n\nexport { Detail };","map":{"version":3,"sources":["C:/Personal-Portfolio/node_modules/grommet/es6/components/DataChart/Detail.js"],"names":["React","Fragment","useCallback","useMemo","useRef","useState","styled","Box","Drop","Grid","Keyboard","Text","focusStyle","unfocusStyle","halfPad","Swatch","DetailControl","withConfig","displayName","componentId","Detail","_ref","activeProperty","axis","data","pad","series","seriesStyles","renderValue","thickness","_useState","detailIndex","setDetailIndex","activeIndex","detailRefs","onMouseLeave","event","rect","current","getBoundingClientRect","pageX","left","right","pageY","top","bottom","undefined","createElement","onLeft","length","onRight","key","tabIndex","direction","fill","horizontal","justify","responsive","onFocus","onBlur","map","_","i","align","width","onMouseOver","currentTarget","ref","c","border","target","plain","background","color","columns","gap","filter","_ref2","property","x","serie","propertyStyle","size","label","weight"],"mappings":"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","sourcesContent":["import React, { Fragment, useCallback, useMemo, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { Box } from '../Box';\nimport { Drop } from '../Drop';\nimport { Grid } from '../Grid';\nimport { Keyboard } from '../Keyboard';\nimport { Text } from '../Text';\nimport { focusStyle, unfocusStyle } from '../../utils';\nimport { halfPad } from './utils';\nimport { Swatch } from './Swatch';\nvar DetailControl = styled(Box).withConfig({\n  displayName: \"Detail__DetailControl\",\n  componentId: \"sc-huiwg9-0\"\n})([\"&:focus{\", \"}&:focus:not(:focus-visible){\", \"}\"], focusStyle(), unfocusStyle());\n\nvar Detail = function Detail(_ref) {\n  var activeProperty = _ref.activeProperty,\n      axis = _ref.axis,\n      data = _ref.data,\n      pad = _ref.pad,\n      series = _ref.series,\n      seriesStyles = _ref.seriesStyles,\n      renderValue = _ref.renderValue,\n      thickness = _ref.thickness;\n\n  var _useState = useState(),\n      detailIndex = _useState[0],\n      setDetailIndex = _useState[1];\n\n  var activeIndex = useRef();\n  var detailRefs = useMemo(function () {\n    return [];\n  }, []);\n  var onMouseLeave = useCallback(function (event) {\n    // Only remove detail if the mouse isn't over the active index.\n    // This helps distinguish leaving the drop on the edge where it is\n    // anchored.\n    var rect = activeIndex.current.getBoundingClientRect();\n\n    if (event.pageX < rect.left || event.pageX > rect.right || event.pageY < rect.top || event.pageY > rect.bottom) {\n      activeIndex.current = undefined;\n      setDetailIndex(undefined);\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Keyboard, {\n    onLeft: function onLeft() {\n      if (detailIndex === undefined) setDetailIndex(data.length - 1);else if (detailIndex > 0) setDetailIndex(detailIndex - 1);\n    },\n    onRight: function onRight() {\n      if (detailIndex === undefined) setDetailIndex(0);else if (detailIndex < data.length - 1) setDetailIndex(detailIndex + 1);\n    }\n  }, /*#__PURE__*/React.createElement(DetailControl, {\n    key: \"band\",\n    tabIndex: 0,\n    direction: \"row\",\n    fill: true,\n    pad: // ensure the hit targets and center lines align with\n    // the data/guide lines\n    (pad == null ? void 0 : pad.horizontal) && halfPad[pad.horizontal] && {\n      horizontal: halfPad[pad.horizontal]\n    } || pad,\n    justify: \"between\",\n    responsive: false,\n    onFocus: function onFocus() {},\n    onBlur: function onBlur() {\n      return setDetailIndex(undefined);\n    }\n  }, data.map(function (_, i) {\n    return /*#__PURE__*/React.createElement(Box // eslint-disable-next-line react/no-array-index-key\n    , {\n      key: i,\n      align: \"center\",\n      responsive: false,\n      width: thickness,\n      onMouseOver: function onMouseOver(event) {\n        activeIndex.current = event.currentTarget;\n        setDetailIndex(i);\n      },\n      onMouseLeave: onMouseLeave,\n      onFocus: function onFocus() {},\n      onBlur: function onBlur() {}\n    }, /*#__PURE__*/React.createElement(Box, {\n      ref: function ref(c) {\n        detailRefs[i] = c;\n      },\n      fill: \"vertical\",\n      border: detailIndex === i ? true : undefined\n    }));\n  }))), detailIndex !== undefined && detailRefs[detailIndex] && /*#__PURE__*/React.createElement(Drop, {\n    key: \"drop\",\n    target: detailRefs[detailIndex],\n    align: detailIndex > data.length / 2 ? {\n      right: 'left'\n    } : {\n      left: 'right'\n    },\n    plain: true,\n    onMouseLeave: onMouseLeave\n  }, /*#__PURE__*/React.createElement(Box, {\n    pad: \"small\",\n    background: {\n      color: 'background-back'\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    columns: ['auto', 'auto', 'auto'],\n    gap: \"xsmall\",\n    align: \"center\"\n  }, series.filter(function (_ref2) {\n    var property = _ref2.property;\n    return !activeProperty || activeProperty === property || axis && axis.x && axis.x.property === property;\n  }).map(function (serie) {\n    var propertyStyle = seriesStyles[serie.property];\n    return /*#__PURE__*/React.createElement(Fragment, {\n      key: serie.property\n    }, propertyStyle ? /*#__PURE__*/React.createElement(Swatch, propertyStyle) : /*#__PURE__*/React.createElement(\"span\", null), /*#__PURE__*/React.createElement(Text, {\n      size: \"small\"\n    }, serie.label || serie.property), /*#__PURE__*/React.createElement(Text, {\n      size: \"small\",\n      weight: \"bold\"\n    }, renderValue(serie, detailIndex)));\n  })))));\n};\n\nexport { Detail };"]},"metadata":{},"sourceType":"module"}