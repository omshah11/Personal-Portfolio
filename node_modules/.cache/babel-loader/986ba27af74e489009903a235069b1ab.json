{"ast":null,"code":"var _excluded = [\"activeChild\", \"initialChild\", \"onChild\", \"play\", \"children\", \"controls\", \"height\", \"fill\", \"width\", \"onFocus\", \"onBlur\", \"wrap\"];\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { Children, useCallback, useContext, useEffect, useMemo, useState, useRef } from 'react';\nimport { normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { ThemeContext } from '../../contexts';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Keyboard } from '../Keyboard';\nimport { StyledCarouselContainer, StyledControl } from './StyledCarousel';\nimport { CarouselChild } from './CarouselChild';\nimport { CarouselPropTypes } from './propTypes';\n\nvar Carousel = function Carousel(_ref) {\n  var activeChild = _ref.activeChild,\n      initialChild = _ref.initialChild,\n      onChild = _ref.onChild,\n      play = _ref.play,\n      children = _ref.children,\n      controls = _ref.controls,\n      height = _ref.height,\n      fill = _ref.fill,\n      width = _ref.width,\n      onFocus = _ref.onFocus,\n      onBlur = _ref.onBlur,\n      wrap = _ref.wrap,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _useContext = useContext(MessageContext),\n      format = _useContext.format;\n\n  var timerRef = useRef();\n  var animationDuration = useMemo(function () {\n    return play && play < theme.carousel.animation.duration ? play : theme.carousel.animation.duration;\n  }, [play, theme.carousel.animation.duration]);\n\n  var _useState = useState({\n    activeIndex: activeChild !== undefined ? activeChild : initialChild\n  }),\n      indexes = _useState[0],\n      setIndexes = _useState[1];\n\n  var _useState2 = useState(activeChild),\n      activeChildState = _useState2[0],\n      setActiveChildState = _useState2[1];\n\n  var _useState3 = useState(),\n      direction = _useState3[0],\n      setDirection = _useState3[1];\n\n  var _useState4 = useState(false),\n      inTransition = _useState4[0],\n      setInTransition = _useState4[1];\n\n  var activeIndex = indexes.activeIndex,\n      priorActiveIndex = indexes.priorActiveIndex;\n  var lastIndex = Children.count(children) - 1;\n  var onChildChange = useCallback(function (index) {\n    if (onChild) {\n      onChild(index);\n    }\n  }, [onChild]);\n  var onRight = useCallback(function () {\n    if (inTransition) return;\n    clearInterval(timerRef.current);\n    var nextActiveIndex = activeIndex < lastIndex ? activeIndex + 1 : 0;\n    setIndexes({\n      activeIndex: nextActiveIndex,\n      priorActiveIndex: activeIndex\n    });\n    setInTransition(true);\n    setDirection('left');\n    onChildChange(nextActiveIndex);\n  }, [activeIndex, inTransition, lastIndex, onChildChange]);\n  var onLeft = useCallback(function () {\n    if (inTransition) return;\n    clearInterval(timerRef.current);\n    var nextActiveIndex = activeIndex === 0 ? lastIndex : activeIndex - 1;\n    setIndexes({\n      activeIndex: nextActiveIndex,\n      priorActiveIndex: activeIndex\n    });\n    setInTransition(true);\n    setDirection('right');\n    onChildChange(nextActiveIndex);\n  }, [activeIndex, inTransition, lastIndex, onChildChange]);\n  var onSelect = useCallback(function (index) {\n    return function () {\n      if (!inTransition && activeIndex !== index) {\n        clearInterval(timerRef.current);\n        setIndexes({\n          activeIndex: index,\n          priorActiveIndex: activeIndex\n        });\n        setInTransition(true);\n        setDirection(index > activeIndex ? 'left' : 'right');\n        onChildChange(index);\n      }\n    };\n  }, [activeIndex, inTransition, onChildChange]);\n  var onControlledNavigation = useCallback(function () {\n    if (inTransition || activeChild === activeChildState || activeChild === activeIndex || activeChild === undefined || activeChild < 0 || activeChild > lastIndex) return;\n    setDirection(activeChild > activeIndex ? 'left' : 'right');\n    setInTransition(true);\n    setIndexes({\n      activeIndex: activeChild,\n      priorActiveIndex: activeIndex\n    });\n    setActiveChildState(activeChild);\n    onChildChange(activeChild);\n  }, [activeChild, activeChildState, activeIndex, inTransition, lastIndex, onChildChange]);\n  /**\n   * Delays the transitions between Carousel slides. This is needed to\n   * avoid users \"spamming\" the controls which results in jarring animations\n   * and a bad user experience.\n   */\n\n  useEffect(function () {\n    var transitionTimer;\n\n    if (inTransition) {\n      transitionTimer = setTimeout(function () {\n        setInTransition(false);\n      }, animationDuration);\n    }\n\n    return function () {\n      return clearTimeout(transitionTimer);\n    };\n  }, [inTransition, setInTransition, animationDuration]); // Handles auto-playing Carousel slides\n\n  useEffect(function () {\n    // stop playing if wrap is explicitly false and we're at the end\n    if (play && (wrap !== false || activeIndex < lastIndex)) {\n      var timer = setInterval(function () {\n        var nextActiveIndex = activeIndex < lastIndex ? activeIndex + 1 : 0;\n        setIndexes({\n          activeIndex: nextActiveIndex,\n          priorActiveIndex: activeIndex\n        });\n        setInTransition(true);\n        setDirection('left');\n        onChildChange(nextActiveIndex);\n      }, play);\n      timerRef.current = timer;\n      return function () {\n        clearTimeout(timer);\n      };\n    }\n\n    return function () {};\n  }, [activeIndex, play, children, lastIndex, onChildChange, wrap]); // Allow Carousel slides to be controlled outside the component\n\n  useEffect(function () {\n    onControlledNavigation(activeIndex, activeChild, activeChildState, inTransition);\n  }, [onControlledNavigation, activeIndex, activeChild, activeChildState, inTransition]);\n  var showArrows = controls && controls !== 'selectors';\n  var showSelectors = controls && controls !== 'arrows';\n  var CurrentIcon = theme.carousel.icons.current;\n  var iconColor = normalizeColor(theme.carousel.icons.color || 'control', theme);\n  var selectors = [];\n  var wrappedChildren = Children.map(children, function (child, index) {\n    selectors.push( /*#__PURE__*/React.createElement(Button, {\n      a11yTitle: format({\n        id: 'carousel.jump',\n        values: {\n          slide: index + 1\n        }\n      }) // eslint-disable-next-line react/no-array-index-key\n      ,\n      key: index,\n      icon: /*#__PURE__*/React.createElement(CurrentIcon, {\n        color: activeIndex === index ? iconColor : undefined\n      }),\n      onClick: onSelect(index)\n    }));\n    return /*#__PURE__*/React.createElement(CarouselChild, {\n      animationDuration: animationDuration,\n      fill: fill || !!height || !!width,\n      index: index,\n      activeIndex: activeIndex,\n      priorActiveIndex: priorActiveIndex,\n      direction: direction\n    }, child);\n  });\n  var NextIcon = theme.carousel.icons.next;\n  var PreviousIcon = theme.carousel.icons.previous;\n  var nextIconDisabled = !wrap && activeIndex >= lastIndex;\n  var previousIconDisabled = !wrap && activeIndex <= 0;\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onLeft: onLeft,\n    onRight: onRight\n  }, /*#__PURE__*/React.createElement(StyledCarouselContainer, _extends({\n    fill: fill,\n    height: height,\n    width: width\n  }, rest), showArrows && /*#__PURE__*/React.createElement(StyledControl, {\n    offsetProp: \"left\",\n    fill: \"vertical\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    fill: \"vertical\",\n    icon: /*#__PURE__*/React.createElement(PreviousIcon, {\n      color: normalizeColor(previousIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)\n    }),\n    a11yTitle: format({\n      id: 'carousel.previous',\n      values: {\n        slide: activeIndex\n      }\n    }),\n    plain: true,\n    disabled: previousIconDisabled,\n    onClick: onLeft,\n    hoverIndicator: true\n  })), wrappedChildren, showSelectors && /*#__PURE__*/React.createElement(StyledControl, {\n    offsetProp: \"bottom\",\n    fill: \"horizontal\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    justify: \"end\",\n    fill: !showArrows && 'horizontal'\n  }, /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    justify: \"center\"\n  }, selectors))), showArrows && /*#__PURE__*/React.createElement(StyledControl, {\n    offsetProp: \"right\",\n    fill: \"vertical\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    fill: \"vertical\",\n    icon: /*#__PURE__*/React.createElement(NextIcon, {\n      color: normalizeColor(nextIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)\n    }),\n    a11yTitle: format({\n      id: 'carousel.next',\n      values: {\n        slide: activeIndex + 2\n      }\n    }),\n    plain: true,\n    disabled: nextIconDisabled,\n    onClick: onRight,\n    hoverIndicator: true\n  }))));\n};\n\nCarousel.defaultProps = {\n  initialChild: 0,\n  controls: true\n};\nObject.setPrototypeOf(Carousel.defaultProps, defaultProps);\nCarousel.displayName = 'Carousel';\nCarousel.propTypes = CarouselPropTypes;\nexport { Carousel };","map":{"version":3,"sources":["C:/Personal-Portfolio/node_modules/grommet/es6/components/Carousel/Carousel.js"],"names":["_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","React","Children","useCallback","useContext","useEffect","useMemo","useState","useRef","normalizeColor","defaultProps","ThemeContext","MessageContext","Box","Button","Keyboard","StyledCarouselContainer","StyledControl","CarouselChild","CarouselPropTypes","Carousel","_ref","activeChild","initialChild","onChild","play","children","controls","height","fill","width","onFocus","onBlur","wrap","rest","theme","_useContext","format","timerRef","animationDuration","carousel","animation","duration","_useState","activeIndex","undefined","indexes","setIndexes","_useState2","activeChildState","setActiveChildState","_useState3","direction","setDirection","_useState4","inTransition","setInTransition","priorActiveIndex","lastIndex","count","onChildChange","index","onRight","clearInterval","current","nextActiveIndex","onLeft","onSelect","onControlledNavigation","transitionTimer","setTimeout","clearTimeout","timer","setInterval","showArrows","showSelectors","CurrentIcon","icons","iconColor","color","selectors","wrappedChildren","map","child","push","createElement","a11yTitle","id","values","slide","icon","onClick","NextIcon","next","PreviousIcon","previous","nextIconDisabled","previousIconDisabled","offsetProp","disabled","plain","hoverIndicator","justify","setPrototypeOf","displayName","propTypes"],"mappings":"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","sourcesContent":["var _excluded = [\"activeChild\", \"initialChild\", \"onChild\", \"play\", \"children\", \"controls\", \"height\", \"fill\", \"width\", \"onFocus\", \"onBlur\", \"wrap\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { Children, useCallback, useContext, useEffect, useMemo, useState, useRef } from 'react';\nimport { normalizeColor } from '../../utils';\nimport { defaultProps } from '../../default-props';\nimport { ThemeContext } from '../../contexts';\nimport { MessageContext } from '../../contexts/MessageContext';\nimport { Box } from '../Box';\nimport { Button } from '../Button';\nimport { Keyboard } from '../Keyboard';\nimport { StyledCarouselContainer, StyledControl } from './StyledCarousel';\nimport { CarouselChild } from './CarouselChild';\nimport { CarouselPropTypes } from './propTypes';\n\nvar Carousel = function Carousel(_ref) {\n  var activeChild = _ref.activeChild,\n      initialChild = _ref.initialChild,\n      onChild = _ref.onChild,\n      play = _ref.play,\n      children = _ref.children,\n      controls = _ref.controls,\n      height = _ref.height,\n      fill = _ref.fill,\n      width = _ref.width,\n      onFocus = _ref.onFocus,\n      onBlur = _ref.onBlur,\n      wrap = _ref.wrap,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n\n  var theme = useContext(ThemeContext) || defaultProps.theme;\n\n  var _useContext = useContext(MessageContext),\n      format = _useContext.format;\n\n  var timerRef = useRef();\n  var animationDuration = useMemo(function () {\n    return play && play < theme.carousel.animation.duration ? play : theme.carousel.animation.duration;\n  }, [play, theme.carousel.animation.duration]);\n\n  var _useState = useState({\n    activeIndex: activeChild !== undefined ? activeChild : initialChild\n  }),\n      indexes = _useState[0],\n      setIndexes = _useState[1];\n\n  var _useState2 = useState(activeChild),\n      activeChildState = _useState2[0],\n      setActiveChildState = _useState2[1];\n\n  var _useState3 = useState(),\n      direction = _useState3[0],\n      setDirection = _useState3[1];\n\n  var _useState4 = useState(false),\n      inTransition = _useState4[0],\n      setInTransition = _useState4[1];\n\n  var activeIndex = indexes.activeIndex,\n      priorActiveIndex = indexes.priorActiveIndex;\n  var lastIndex = Children.count(children) - 1;\n  var onChildChange = useCallback(function (index) {\n    if (onChild) {\n      onChild(index);\n    }\n  }, [onChild]);\n  var onRight = useCallback(function () {\n    if (inTransition) return;\n    clearInterval(timerRef.current);\n    var nextActiveIndex = activeIndex < lastIndex ? activeIndex + 1 : 0;\n    setIndexes({\n      activeIndex: nextActiveIndex,\n      priorActiveIndex: activeIndex\n    });\n    setInTransition(true);\n    setDirection('left');\n    onChildChange(nextActiveIndex);\n  }, [activeIndex, inTransition, lastIndex, onChildChange]);\n  var onLeft = useCallback(function () {\n    if (inTransition) return;\n    clearInterval(timerRef.current);\n    var nextActiveIndex = activeIndex === 0 ? lastIndex : activeIndex - 1;\n    setIndexes({\n      activeIndex: nextActiveIndex,\n      priorActiveIndex: activeIndex\n    });\n    setInTransition(true);\n    setDirection('right');\n    onChildChange(nextActiveIndex);\n  }, [activeIndex, inTransition, lastIndex, onChildChange]);\n  var onSelect = useCallback(function (index) {\n    return function () {\n      if (!inTransition && activeIndex !== index) {\n        clearInterval(timerRef.current);\n        setIndexes({\n          activeIndex: index,\n          priorActiveIndex: activeIndex\n        });\n        setInTransition(true);\n        setDirection(index > activeIndex ? 'left' : 'right');\n        onChildChange(index);\n      }\n    };\n  }, [activeIndex, inTransition, onChildChange]);\n  var onControlledNavigation = useCallback(function () {\n    if (inTransition || activeChild === activeChildState || activeChild === activeIndex || activeChild === undefined || activeChild < 0 || activeChild > lastIndex) return;\n    setDirection(activeChild > activeIndex ? 'left' : 'right');\n    setInTransition(true);\n    setIndexes({\n      activeIndex: activeChild,\n      priorActiveIndex: activeIndex\n    });\n    setActiveChildState(activeChild);\n    onChildChange(activeChild);\n  }, [activeChild, activeChildState, activeIndex, inTransition, lastIndex, onChildChange]);\n  /**\n   * Delays the transitions between Carousel slides. This is needed to\n   * avoid users \"spamming\" the controls which results in jarring animations\n   * and a bad user experience.\n   */\n\n  useEffect(function () {\n    var transitionTimer;\n\n    if (inTransition) {\n      transitionTimer = setTimeout(function () {\n        setInTransition(false);\n      }, animationDuration);\n    }\n\n    return function () {\n      return clearTimeout(transitionTimer);\n    };\n  }, [inTransition, setInTransition, animationDuration]); // Handles auto-playing Carousel slides\n\n  useEffect(function () {\n    // stop playing if wrap is explicitly false and we're at the end\n    if (play && (wrap !== false || activeIndex < lastIndex)) {\n      var timer = setInterval(function () {\n        var nextActiveIndex = activeIndex < lastIndex ? activeIndex + 1 : 0;\n        setIndexes({\n          activeIndex: nextActiveIndex,\n          priorActiveIndex: activeIndex\n        });\n        setInTransition(true);\n        setDirection('left');\n        onChildChange(nextActiveIndex);\n      }, play);\n      timerRef.current = timer;\n      return function () {\n        clearTimeout(timer);\n      };\n    }\n\n    return function () {};\n  }, [activeIndex, play, children, lastIndex, onChildChange, wrap]); // Allow Carousel slides to be controlled outside the component\n\n  useEffect(function () {\n    onControlledNavigation(activeIndex, activeChild, activeChildState, inTransition);\n  }, [onControlledNavigation, activeIndex, activeChild, activeChildState, inTransition]);\n  var showArrows = controls && controls !== 'selectors';\n  var showSelectors = controls && controls !== 'arrows';\n  var CurrentIcon = theme.carousel.icons.current;\n  var iconColor = normalizeColor(theme.carousel.icons.color || 'control', theme);\n  var selectors = [];\n  var wrappedChildren = Children.map(children, function (child, index) {\n    selectors.push( /*#__PURE__*/React.createElement(Button, {\n      a11yTitle: format({\n        id: 'carousel.jump',\n        values: {\n          slide: index + 1\n        }\n      }) // eslint-disable-next-line react/no-array-index-key\n      ,\n      key: index,\n      icon: /*#__PURE__*/React.createElement(CurrentIcon, {\n        color: activeIndex === index ? iconColor : undefined\n      }),\n      onClick: onSelect(index)\n    }));\n    return /*#__PURE__*/React.createElement(CarouselChild, {\n      animationDuration: animationDuration,\n      fill: fill || !!height || !!width,\n      index: index,\n      activeIndex: activeIndex,\n      priorActiveIndex: priorActiveIndex,\n      direction: direction\n    }, child);\n  });\n  var NextIcon = theme.carousel.icons.next;\n  var PreviousIcon = theme.carousel.icons.previous;\n  var nextIconDisabled = !wrap && activeIndex >= lastIndex;\n  var previousIconDisabled = !wrap && activeIndex <= 0;\n  return /*#__PURE__*/React.createElement(Keyboard, {\n    onLeft: onLeft,\n    onRight: onRight\n  }, /*#__PURE__*/React.createElement(StyledCarouselContainer, _extends({\n    fill: fill,\n    height: height,\n    width: width\n  }, rest), showArrows && /*#__PURE__*/React.createElement(StyledControl, {\n    offsetProp: \"left\",\n    fill: \"vertical\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    fill: \"vertical\",\n    icon: /*#__PURE__*/React.createElement(PreviousIcon, {\n      color: normalizeColor(previousIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)\n    }),\n    a11yTitle: format({\n      id: 'carousel.previous',\n      values: {\n        slide: activeIndex\n      }\n    }),\n    plain: true,\n    disabled: previousIconDisabled,\n    onClick: onLeft,\n    hoverIndicator: true\n  })), wrappedChildren, showSelectors && /*#__PURE__*/React.createElement(StyledControl, {\n    offsetProp: \"bottom\",\n    fill: \"horizontal\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    justify: \"end\",\n    fill: !showArrows && 'horizontal'\n  }, /*#__PURE__*/React.createElement(Box, {\n    direction: \"row\",\n    justify: \"center\"\n  }, selectors))), showArrows && /*#__PURE__*/React.createElement(StyledControl, {\n    offsetProp: \"right\",\n    fill: \"vertical\"\n  }, /*#__PURE__*/React.createElement(Button, {\n    fill: \"vertical\",\n    icon: /*#__PURE__*/React.createElement(NextIcon, {\n      color: normalizeColor(nextIconDisabled ? theme.carousel.disabled.icons.color : theme.carousel.icons.color, theme)\n    }),\n    a11yTitle: format({\n      id: 'carousel.next',\n      values: {\n        slide: activeIndex + 2\n      }\n    }),\n    plain: true,\n    disabled: nextIconDisabled,\n    onClick: onRight,\n    hoverIndicator: true\n  }))));\n};\n\nCarousel.defaultProps = {\n  initialChild: 0,\n  controls: true\n};\nObject.setPrototypeOf(Carousel.defaultProps, defaultProps);\nCarousel.displayName = 'Carousel';\nCarousel.propTypes = CarouselPropTypes;\nexport { Carousel };"]},"metadata":{},"sourceType":"module"}