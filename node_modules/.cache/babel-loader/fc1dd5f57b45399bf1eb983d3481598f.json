{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { Children, cloneElement, forwardRef, useContext, useState, useEffect } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { Box } from '../Box';\nimport { Drop } from '../Drop';\nimport { useForwardedRef } from '../../utils/refs';\nimport { TipPropTypes } from './propTypes';\nvar Tip = /*#__PURE__*/forwardRef(function (_ref, tipRef) {\n  var children = _ref.children,\n      content = _ref.content,\n      dropProps = _ref.dropProps,\n      plain = _ref.plain;\n  var theme = useContext(ThemeContext);\n\n  var _useState = useState(false),\n      over = _useState[0],\n      setOver = _useState[1];\n\n  var _useState2 = useState(),\n      usingKeyboard = _useState2[0],\n      setUsingKeyboard = _useState2[1];\n\n  var onMouseDown = function onMouseDown() {\n    return setUsingKeyboard(false);\n  };\n\n  var onKeyDown = function onKeyDown() {\n    return setUsingKeyboard(true);\n  };\n\n  useEffect(function () {\n    document.addEventListener('mousedown', onMouseDown);\n    document.addEventListener('keydown', onKeyDown);\n    return function () {\n      document.removeEventListener('mousedown', onMouseDown);\n      document.removeEventListener('keydown', onKeyDown);\n    };\n  }, []);\n  var componentRef = useForwardedRef(tipRef); // In cases the child is a primitive\n\n  var wrapInvalidElement = function wrapInvalidElement() {\n    return (// Handle the use case of a primitive string child\n      // so we'll be able to assign ref and events on the child.\n      ! /*#__PURE__*/React.isValidElement(children) ? /*#__PURE__*/React.createElement(\"span\", null, children) : children\n    );\n  };\n  /* Three use case for children\n    1. Tip has a single child + it is a React Element => Great!\n    2. Tip has a single child +  not React Element => span will wrap the child.\n    3. Tip has more than one child => Abort, display Children.only error \n  */\n\n\n  var child = Children.count(children) === 1 ? wrapInvalidElement() : Children.only(children);\n  var clonedChild = /*#__PURE__*/cloneElement(child, {\n    onMouseEnter: function onMouseEnter() {\n      return setOver(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setOver(false);\n    },\n    onFocus: function onFocus() {\n      if (usingKeyboard) setOver(true);\n    },\n    onBlur: function onBlur() {\n      if (usingKeyboard) setOver(false);\n    },\n    key: 'tip-child',\n    ref: function ref(node) {\n      // https://github.com/facebook/react/issues/8873#issuecomment-287873307\n      if (typeof componentRef === 'function') {\n        componentRef(node);\n      } else if (componentRef) {\n        // eslint-disable-next-line no-param-reassign\n        componentRef.current = node;\n      } // Call the original ref, if any\n\n\n      var callerRef = child.ref;\n\n      if (typeof callerRef === 'function') {\n        callerRef(node);\n      } else if (callerRef) {\n        callerRef.current = node;\n      }\n    }\n  });\n  return [clonedChild, over && /*#__PURE__*/React.createElement(Drop, _extends({\n    target: componentRef.current,\n    trapFocus: false,\n    key: \"tip-drop\"\n  }, theme.tip.drop, dropProps), plain ? content : /*#__PURE__*/React.createElement(Box, theme.tip.content, content))];\n});\nTip.displayName = 'Tip';\nTip.propTypes = TipPropTypes;\nexport { Tip };","map":{"version":3,"sources":["C:/Personal-Portfolio/node_modules/grommet/es6/components/Tip/Tip.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","Children","cloneElement","forwardRef","useContext","useState","useEffect","ThemeContext","Box","Drop","useForwardedRef","TipPropTypes","Tip","_ref","tipRef","children","content","dropProps","plain","theme","_useState","over","setOver","_useState2","usingKeyboard","setUsingKeyboard","onMouseDown","onKeyDown","document","addEventListener","removeEventListener","componentRef","wrapInvalidElement","isValidElement","createElement","child","count","only","clonedChild","onMouseEnter","onMouseLeave","onFocus","onBlur","ref","node","current","callerRef","trapFocus","tip","drop","displayName","propTypes"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { Children, cloneElement, forwardRef, useContext, useState, useEffect } from 'react';\nimport { ThemeContext } from 'styled-components';\nimport { Box } from '../Box';\nimport { Drop } from '../Drop';\nimport { useForwardedRef } from '../../utils/refs';\nimport { TipPropTypes } from './propTypes';\nvar Tip = /*#__PURE__*/forwardRef(function (_ref, tipRef) {\n  var children = _ref.children,\n      content = _ref.content,\n      dropProps = _ref.dropProps,\n      plain = _ref.plain;\n  var theme = useContext(ThemeContext);\n\n  var _useState = useState(false),\n      over = _useState[0],\n      setOver = _useState[1];\n\n  var _useState2 = useState(),\n      usingKeyboard = _useState2[0],\n      setUsingKeyboard = _useState2[1];\n\n  var onMouseDown = function onMouseDown() {\n    return setUsingKeyboard(false);\n  };\n\n  var onKeyDown = function onKeyDown() {\n    return setUsingKeyboard(true);\n  };\n\n  useEffect(function () {\n    document.addEventListener('mousedown', onMouseDown);\n    document.addEventListener('keydown', onKeyDown);\n    return function () {\n      document.removeEventListener('mousedown', onMouseDown);\n      document.removeEventListener('keydown', onKeyDown);\n    };\n  }, []);\n  var componentRef = useForwardedRef(tipRef); // In cases the child is a primitive\n\n  var wrapInvalidElement = function wrapInvalidElement() {\n    return (// Handle the use case of a primitive string child\n      // so we'll be able to assign ref and events on the child.\n      ! /*#__PURE__*/React.isValidElement(children) ? /*#__PURE__*/React.createElement(\"span\", null, children) : children\n    );\n  };\n  /* Three use case for children\n    1. Tip has a single child + it is a React Element => Great!\n    2. Tip has a single child +  not React Element => span will wrap the child.\n    3. Tip has more than one child => Abort, display Children.only error \n  */\n\n\n  var child = Children.count(children) === 1 ? wrapInvalidElement() : Children.only(children);\n  var clonedChild = /*#__PURE__*/cloneElement(child, {\n    onMouseEnter: function onMouseEnter() {\n      return setOver(true);\n    },\n    onMouseLeave: function onMouseLeave() {\n      return setOver(false);\n    },\n    onFocus: function onFocus() {\n      if (usingKeyboard) setOver(true);\n    },\n    onBlur: function onBlur() {\n      if (usingKeyboard) setOver(false);\n    },\n    key: 'tip-child',\n    ref: function ref(node) {\n      // https://github.com/facebook/react/issues/8873#issuecomment-287873307\n      if (typeof componentRef === 'function') {\n        componentRef(node);\n      } else if (componentRef) {\n        // eslint-disable-next-line no-param-reassign\n        componentRef.current = node;\n      } // Call the original ref, if any\n\n\n      var callerRef = child.ref;\n\n      if (typeof callerRef === 'function') {\n        callerRef(node);\n      } else if (callerRef) {\n        callerRef.current = node;\n      }\n    }\n  });\n  return [clonedChild, over && /*#__PURE__*/React.createElement(Drop, _extends({\n    target: componentRef.current,\n    trapFocus: false,\n    key: \"tip-drop\"\n  }, theme.tip.drop, dropProps), plain ? content : /*#__PURE__*/React.createElement(Box, theme.tip.content, content))];\n});\nTip.displayName = 'Tip';\nTip.propTypes = TipPropTypes;\nexport { Tip };"]},"metadata":{},"sourceType":"module"}